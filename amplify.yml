# version: 1
# frontend:
#   phases:
#     preBuild:
#       commands:
#         - ls -la
#         # - cd solarpanel
#         - rm -rf node_modules
#         # - npm install
#         - yarn install
#         - npm ci
#     build:
#       commands:
#         - npm run build
#   artifacts:
#     baseDirectory: dist
#     files:
#       - '**/*'
#   cache:
#     paths:
#       - node_modules/**/*
#       - .cache/**/*

version: 1
frontend:
   phases:
      build:
         commands:
          - ls -la
          - rm -rf node_modules
          - npm install --production #--ignore-optional #--verbose
          - mv /$_FRONTEND/$_FRONTEND_VERSION /deploy # stage files for deployment
   artifacts:
      baseDirectory: public
      files:
          - '**/*'
    